<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-itunes-app" content="app-id=6758813401">
    <title>SL Prayer Times - Accurate Athan & Qibla for Sri Lanka</title>
    <meta name="description"
        content="The most accurate, ACJU-verified prayer times app for Sri Lanka. Get precise Athan alerts, Qibla direction, Islamic calendar, and widgets for all 25 districts.">
    <link rel="canonical" href="https://usamanaufer.online/apps/sl-prayer-times/">

    <!-- Favicon -->
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="favicon.png">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://usamanaufer.online/apps/sl-prayer-times/">
    <meta property="og:title" content="SL Prayer Times - Accurate Athan & Qibla for Sri Lanka">
    <meta property="og:description" content="ACJU-verified prayer times for all 25 districts. Never miss a prayer.">
    <meta property="og:image" content="https://usamanaufer.online/srilankaprayertimes.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SL Prayer Times - Accurate Athan & Qibla for Sri Lanka">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@600;700;800&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="./app.css">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "SL Prayer Times",
        "operatingSystem": "iOS, Android",
        "applicationCategory": "LifestyleApplication",
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "ratingCount": "120"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "LKR"
        }
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [{
            "@type": "Question",
            "name": "What is the most accurate prayer time app for Sri Lanka?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "SL Prayer Times is the most accurate app for Sri Lanka, using ACJU-verified calculations for all 25 districts including Colombo, Kandy, and Galle."
            }
        }, {
            "@type": "Question",
            "name": "How are prayer times calculated in Sri Lanka?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Prayer times in Sri Lanka are calculated based on the standards set by the All Ceylon Jamiyyathul Ulama (ACJU), which we strictly follow in our app."
            }
        }]
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "name": "Apps",
            "item": "https://usamanaufer.online/"
        },{
            "@type": "ListItem",
            "position": 2,
            "name": "SL Prayer Times",
            "item": "https://usamanaufer.online/apps/sl-prayer-times/"
        }]
    }
    </script>
</head>

<body>
    <a href="#main" class="skip-link">Skip to content</a>
    <div class="bg-gradient" aria-hidden="true"></div>

    <div class="container">
        <!-- Navigation -->
        <nav class="nav fade-up">
            <div class="breadcrumb" aria-label="Breadcrumb">
                <a href="../../">Apps</a>
                <span class="separator">/</span>
                <span class="current">SL Prayer Times</span>
            </div>
            <a href="../../" class="nav-back" aria-label="Back to portfolio">
                <i class="ri-arrow-left-s-line" aria-hidden="true"></i>
                Back
            </a>
        </nav>

        <!-- Main Content -->
        <main id="main">
            <!-- Hero -->
            <section class="hero">
                <div class="hero-badge fade-up">
                    <i class="ri-shield-check-fill" aria-hidden="true"></i>
                    Based on ACJU
                </div>

                <img src="../../srilankaprayertimes.png" alt="SL Prayer Times App Icon" class="app-icon fade-up delay-1"
                    width="88" height="88">

                <h1 class="fade-up delay-2">
                    Sri Lanka <span>Prayer Times</span>
                </h1>

                <p class="hero-description fade-up delay-3">
                    The most accurate <strong>Sri Lanka Prayer Times</strong> companion for every home. Based on ACJU
                    timings, Qibla
                    direction, and more.
                </p>

                <div class="download-group fade-up delay-4">
                    <a href="https://apps.apple.com/lk/app/sri-lanka-prayer-times-azan/id6758813401"
                        class="btn-download" aria-label="Download on App Store">
                        <i class="ri-apple-fill" aria-hidden="true"></i>
                        App Store
                    </a>
                    <a href="javascript:void(0)" onclick="showToast()" class="btn-download"
                        aria-label="Get it on Google Play">
                        <i class="ri-google-play-fill" aria-hidden="true"></i>
                        Google Play
                    </a>
                </div>
            </section>

            <!-- Phone Showcase -->
            <section class="showcase" aria-label="App Screenshots">
                <div class="phones">
                    <div class="phone phone-side">
                        <img src="./screenshot_onboarding.png" alt="Welcome screen" loading="lazy" width="280"
                            height="571">
                    </div>
                    <div class="phone phone-center">
                        <img src="./screenshot_home.png" alt="Prayer times display" width="300" height="612">
                    </div>
                    <div class="phone phone-side">
                        <img src="./screenshot_calendar.png" alt="Islamic calendar" loading="lazy" width="280"
                            height="571">
                    </div>
                </div>
            </section>
            <!-- Live Prayer Times -->
            <section id="prayer-times" class="prayer-times fade-up delay-2" aria-labelledby="prayer-times-heading">
                <div class="prayer-card">
                    <div class="prayer-card-header">
                        <div class="district-selector">
                            <i class="ri-map-pin-2-fill" aria-hidden="true"></i>
                            <select id="district-select" aria-label="Select District">
                                <option value="colombo">Colombo</option>
                                <option value="kandy">Kandy</option>
                                <option value="galle">Galle</option>
                                <option value="jaffna">Jaffna</option>
                                <option value="gampaha">Gampaha</option>
                                <option value="kalutara">Kalutara</option>
                                <option value="matale">Matale</option>
                                <option value="nuwara-eliya">Nuwara Eliya</option>
                                <option value="matara">Matara</option>
                                <option value="hambantota">Hambantota</option>
                                <option value="mannar">Mannar</option>
                                <option value="vavuniya">Vavuniya</option>
                                <option value="mullaittivu">Mullaittivu</option>
                                <option value="batticaloa">Batticaloa</option>
                                <option value="ampara">Ampara</option>
                                <option value="trincomalee">Trincomalee</option>
                                <option value="kurunegala">Kurunegala</option>
                                <option value="puttalam">Puttalam</option>
                                <option value="anuradhapura">Anuradhapura</option>
                                <option value="polonnaruwa">Polonnaruwa</option>
                                <option value="badulla">Badulla</option>
                                <option value="moneragala">Moneragala</option>
                                <option value="ratnapura">Ratnapura</option>
                                <option value="kegalle">Kegalle</option>
                                <option value="kilinochchi">Kilinochchi</option>
                            </select>
                        </div>
                        <div class="current-date" id="display-date">Loading...</div>
                    </div>

                    <div class="next-prayer-highlight">
                        <span class="label">Next Prayer</span>
                        <h2 id="next-prayer-name">--:--</h2>
                        <div class="countdown" id="prayer-countdown">--:--:--</div>
                    </div>

                    <div class="prayer-grid" id="prayer-grid">
                        <div class="prayer-item" data-prayer="fajr">
                            <span class="p-name">Fajr</span>
                            <span class="p-time">--:--</span>
                        </div>
                        <div class="prayer-item" data-prayer="sunrise">
                            <span class="p-name">Sunrise</span>
                            <span class="p-time">--:--</span>
                        </div>
                        <div class="prayer-item" data-prayer="dhuhr">
                            <span class="p-name">Dhuhr</span>
                            <span class="p-time">--:--</span>
                        </div>
                        <div class="prayer-item" data-prayer="asr">
                            <span class="p-name">Asr</span>
                            <span class="p-time">--:--</span>
                        </div>
                        <div class="prayer-item" data-prayer="maghrib">
                            <span class="p-name">Maghrib</span>
                            <span class="p-time">--:--</span>
                        </div>
                        <div class="prayer-item" data-prayer="isha">
                            <span class="p-name">Isha</span>
                            <span class="p-time">--:--</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Features -->
            <section class="features" aria-labelledby="features-heading">
                <div class="section-header">
                    <h2 id="features-heading">Everything You Need</h2>
                    <p>Built for the Sri Lankan Muslim community</p>
                </div>

                <div class="features-grid">
                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true"><i class="ri-time-line"></i></div>
                        <h3>Accurate Times</h3>
                        <p>Prayer times based on ACJU standards for all 25 districts across Sri Lanka.</p>
                    </article>

                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true"><i class="ri-compass-3-line"></i></div>
                        <h3>Qibla Finder</h3>
                        <p>Digital compass to find the correct direction for prayer.</p>
                    </article>

                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true"><i class="ri-notification-3-line"></i></div>
                        <h3>Smart Alerts</h3>
                        <p>Customizable Azan notifications so you never miss a prayer.</p>
                    </article>

                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true"><i class="ri-calendar-line"></i></div>
                        <h3>Hijri Calendar</h3>
                        <p>Islamic calendar with important dates and events.</p>
                    </article>

                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true"><i class="ri-map-pin-line"></i></div>
                        <h3>All Districts</h3>
                        <p>Switch between 25 districts for precise local times.</p>
                    </article>

                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true"><i class="ri-wifi-off-line"></i></div>
                        <h3>Works Offline</h3>
                        <p>Local storage ensures the app works without internet.</p>
                    </article>
                </div>

                <!-- Beta Testing CTA -->
                <div class="beta-cta fade-up delay-4">
                    <div class="beta-cta-content">
                        <div class="beta-cta-badge">Android Users</div>
                        <h3>Beta Testing in Progress</h3>
                        <p>Our beta testing is currently underway. Check the status page for more information on the
                            upcoming Play Store release.</p>
                        <a href="./beta/index.html" class="btn-beta">Check Status <i
                                class="ri-arrow-right-line"></i></a>
                    </div>
                </div>
            </section>

            <!-- Widget Section -->
            <section class="widget-section" aria-labelledby="widget-heading">
                <div class="widget-grid">
                    <div class="widget-image">
                        <img src="./screenshot_widgets.png" alt="Home screen widgets" loading="lazy" width="380"
                            height="774">
                    </div>
                    <div class="widget-content">
                        <h2 id="widget-heading">Home Screen Widgets</h2>
                        <p>Quick glance at prayer times right from your home screen. Multiple sizes available.</p>
                        <ul class="widget-list">
                            <li><i class="ri-check-line" aria-hidden="true"></i> Small & medium sizes</li>
                            <li><i class="ri-check-line" aria-hidden="true"></i> Next prayer countdown</li>
                            <li><i class="ri-check-line" aria-hidden="true"></i> Full daily schedule</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Districts -->
            <section class="districts" aria-labelledby="districts-heading">
                <div class="districts-pill">
                    <i class="ri-map-2-line" aria-hidden="true"></i>
                    <span id="districts-heading">25 Districts</span>
                </div>
                <p>From Colombo to Jaffna — accurate times for your exact location.</p>
            </section>

            <!-- CTA -->
            <section class="cta" aria-labelledby="cta-heading">
                <div class="cta-card">
                    <h2 id="cta-heading">Download Free</h2>
                    <div class="cta-buttons-wrapper">
                        <div class="cta-badge">Official ACJU Standard Data</div>
                        <div class="cta-buttons">
                            <a href="https://apps.apple.com/lk/app/sri-lanka-prayer-times-azan/id6758813401"
                                class="btn-download" aria-label="Download on App Store">
                                <i class="ri-apple-fill" aria-hidden="true"></i> App Store
                            </a>
                            <a href="javascript:void(0)" onclick="showToast()" class="btn-cta"
                                aria-label="Get it on Google Play">
                                <i class="ri-google-play-fill" aria-hidden="true"></i> Google Play
                            </a>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <nav class="footer-links" aria-label="Footer">
                <a href="./privacy/">Privacy Policy</a>
                <a href="mailto:contact@usamanaufer.online">Support</a>
                <a href="../../">More Apps</a>
            </nav>
            <p class="footer-copy">Powered by SL Prayer Times · Data sourced for accuracy | Created by <b>TeaPodu</b>
            </p>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast" role="alert" aria-live="polite">
        <i class="ri-information-fill"></i>
        <span>Coming soon. <a href="./beta/index.html"
                style="color: var(--emerald-400); text-decoration: underline;">Check
                Status</a></span>
    </div>

    <script>
        let prayerData = null;
        let timerInterval = null;

        async function initPrayerTimes() {
            try {
                const response = await fetch('./prayer_data.json');
                prayerData = await response.json();

                const districtSelect = document.getElementById('district-select');
                districtSelect.addEventListener('change', () => updateUI());

                // Set default district to Colombo if not stored
                if (!districtSelect.value) districtSelect.value = 'colombo';

                updateUI();
                updateSEOMeta();
                startTimer();
            } catch (error) {
                console.error('Error loading prayer data:', error);
            }
        }

        function updateUI() {
            if (!prayerData) return;

            const districtId = document.getElementById('district-select').value;
            const district = prayerData.districts.find(d => d.id === districtId);
            if (!district) return;

            const now = new Date();
            const month = now.getMonth() + 1;
            const day = now.getDate();

            const times = district.prayer_times[month][day];
            if (!times) return;

            // Update Grid
            for (const [id, time] of Object.entries(times)) {
                const item = document.querySelector(`.prayer-item[data-prayer="${id}"]`);
                if (item) {
                    item.querySelector('.p-time').textContent = time;
                }
            }

            // Update Date Display
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('display-date').textContent = now.toLocaleDateString('en-LK', options);

            updateNextPrayer(times);
        }

        function parseTime(timeStr) {
            const now = new Date();
            const [time, modifier] = timeStr.split(' ');
            let [hours, minutes] = time.split(':');

            if (hours === '12') hours = '00';
            if (modifier === 'PM') hours = parseInt(hours, 10) + 12;

            const timeDate = new Date(now.getTime());
            timeDate.setHours(parseInt(hours, 10), parseInt(minutes, 10), 0, 0);
            return timeDate;
        }

        function updateNextPrayer(times) {
            const now = new Date();
            const prayerOrder = ['fajr', 'dhuhr', 'asr', 'maghrib', 'isha'];
            let nextPrayer = null;
            let nextPrayerTime = null;

            for (const p of prayerOrder) {
                const pTime = parseTime(times[p]);
                if (pTime > now) {
                    nextPrayer = p;
                    nextPrayerTime = pTime;
                    break;
                }
            }

            // Handle case after Isha (Next prayer is Fajr tomorrow)
            if (!nextPrayer) {
                nextPrayer = 'fajr';
                // Simplified for the demo, would actually need tomorrow's times
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                nextPrayerTime = parseTime(times['fajr']);
                nextPrayerTime.setDate(nextPrayerTime.getDate() + 1);
            }

            document.getElementById('next-prayer-name').textContent = nextPrayer.charAt(0).toUpperCase() + nextPrayer.slice(1);

            // Update Active Class in Grid
            document.querySelectorAll('.prayer-item').forEach(el => el.classList.remove('active'));
            const activeItem = document.querySelector(`.prayer-item[data-prayer="${nextPrayer}"]`);
            if (activeItem) activeItem.classList.add('active');

            updateCountdown(nextPrayerTime);
        }

        function updateCountdown(targetTime) {
            const now = new Date();
            const diff = targetTime - now;

            if (diff <= 0) {
                updateUI();
                return;
            }

            const h = Math.floor(diff / 3600000);
            const m = Math.floor((diff % 3600000) / 60000);
            const s = Math.floor((diff % 60000) / 1000);

            document.getElementById('prayer-countdown').textContent =
                `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                const districtId = document.getElementById('district-select').value;
                const district = prayerData.districts.find(d => d.id === districtId);
                const now = new Date();
                const times = district.prayer_times[now.getMonth() + 1][now.getDate()];
                updateNextPrayer(times);
            }, 1000);
        }

        document.addEventListener('DOMContentLoaded', initPrayerTimes);

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function updateSEOMeta() {
            const districtId = document.getElementById('district-select').value;
            const districtName = districtId.charAt(0).toUpperCase() + districtId.slice(1).replace('-', ' ');
            const now = new Date();
            const dateStr = now.toLocaleDateString('en-US', { day: 'numeric', month: 'long', year: 'numeric' });

            // Dynamic Title
            const title = `${districtName} Prayer Times Today — ${dateStr} | SL Prayer Times`;
            document.title = title;

            // Dynamic Meta Description
            const description = `Get the most accurate prayer times for ${districtName}, Sri Lanka today (${dateStr}). Verified ACJU timings for Fajr, Dhuhr, Asr, Maghrib, and Isha.`;
            const metaDesc = document.querySelector('meta[name="description"]');
            if (metaDesc) metaDesc.setAttribute('content', description);

            // Update Open Graph
            const ogTitle = document.querySelector('meta[property="og:title"]');
            if (ogTitle) ogTitle.setAttribute('content', title);

            const ogDesc = document.querySelector('meta[property="og:description"]');
            if (ogDesc) ogDesc.setAttribute('content', description);

            // Update Twitter
            const twTitle = document.querySelector('meta[name="twitter:title"]');
            if (twTitle) twTitle.setAttribute('content', title);
        }

        document.getElementById('district-select').addEventListener('change', updateSEOMeta);
    </script>
</body>

</html>